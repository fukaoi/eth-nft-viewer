{"ast":null,"code":"var _jsxFileName = \"/home/t/Work/My/NFT/eth-nft-viewer/client/src/components/pages/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { ajax } from 'rxjs/ajax';\nimport { map } from 'rxjs/operators';\nimport Templates from \"../templates\";\nimport { getTokenIds, getMetaData } from \"../../shared/web3Client\";\n\nconst a = async (id, setMetaDatas) => {\n  let arr = [];\n  const url = await getMetaData(id);\n  ajax.getJSON(url).pipe(map(res => {\n    console.log(id);\n    arr.push(res);\n  })).subscribe(res => {\n    console.log('res', res);\n    setMetaDatas([...arr]);\n  });\n};\n\nexport const Pages = () => {\n  console.error(\"#pages\");\n  const [metaDatas, setMetaDatas] = useState([]);\n  const ids = getTokenIds();\n  useEffect(() => {\n    ids.map(async id => {// fetch(url)\n      // .then(res => {\n      // arr.push(res.json());\n      // })\n      // .then(res => {\n      // console.log('complete', res);\n      // setMetaDatas([...res]);\n      // })\n    }, []);\n  });\n  return /*#__PURE__*/React.createElement(Templates, {\n    metaDatas: metaDatas,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 10\n    }\n  });\n};\nexport default Pages;","map":{"version":3,"sources":["/home/t/Work/My/NFT/eth-nft-viewer/client/src/components/pages/index.js"],"names":["React","useState","useEffect","ajax","map","Templates","getTokenIds","getMetaData","a","id","setMetaDatas","arr","url","getJSON","pipe","res","console","log","push","subscribe","Pages","error","metaDatas","ids"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,WAAnB;AACA,SAAQC,GAAR,QAAkB,gBAAlB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,yBAAvC;;AAEA,MAAOC,CAAC,GAAI,OAAMC,EAAN,EAAUC,YAAV,KAA4B;AACtC,MAAIC,GAAG,GAAG,EAAV;AACC,QAAMC,GAAG,GAAG,MAAML,WAAW,CAACE,EAAD,CAA7B;AACAN,EAAAA,IAAI,CAACU,OAAL,CAAaD,GAAb,EAAkBE,IAAlB,CACKV,GAAG,CAACW,GAAG,IAAI;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYR,EAAZ;AACAE,IAAAA,GAAG,CAACO,IAAJ,CAASH,GAAT;AACD,GAHE,CADR,EAISI,SAJT,CAKKJ,GAAG,IAAI;AACLC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,GAAnB;AACAL,IAAAA,YAAY,CAAC,CAAC,GAAGC,GAAJ,CAAD,CAAZ;AACD,GARN;AASF,CAZD;;AAcA,OAAO,MAAMS,KAAK,GAAG,MAAM;AACzBJ,EAAAA,OAAO,CAACK,KAAR,CAAc,QAAd;AACA,QAAM,CAACC,SAAD,EAAYZ,YAAZ,IAA4BT,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAMsB,GAAG,GAAGjB,WAAW,EAAvB;AACAJ,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,GAAG,CAACnB,GAAJ,CAAQ,MAAOK,EAAP,IAAc,CACpB;AACE;AACE;AACF;AACA;AACE;AACA;AACF;AAEA,KAVJ,EAUM,EAVN;AAWD,GAZQ,CAAT;AAaA,sBAAO,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAEa,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAlBM;AAoBP,eAAeF,KAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {ajax} from 'rxjs/ajax';\nimport {map} from 'rxjs/operators';\nimport Templates from \"../templates\";\nimport {getTokenIds, getMetaData} from \"../../shared/web3Client\";\n\nconst  a =  async(id, setMetaDatas) =>  {\n  let arr = [];\n   const url = await getMetaData(id);\n   ajax.getJSON(url).pipe(\n        map(res => {\n          console.log(id);\n          arr.push(res);\n        })).subscribe(\n        res => {\n          console.log('res', res);\n          setMetaDatas([...arr]);\n        });\n}\n\nexport const Pages = () => {\n  console.error(\"#pages\");\n  const [metaDatas, setMetaDatas] = useState([]);\n  const ids = getTokenIds();\n  useEffect(() => {\n    ids.map(async (id) => {\n      // fetch(url)\n        // .then(res => {\n          // arr.push(res.json());\n        // })\n        // .then(res => {\n          // console.log('complete', res);\n          // setMetaDatas([...res]);\n        // })\n      \n       }, [])\n  })\n  return <Templates metaDatas={metaDatas} />;\n}\n\nexport default Pages;\n"]},"metadata":{},"sourceType":"module"}