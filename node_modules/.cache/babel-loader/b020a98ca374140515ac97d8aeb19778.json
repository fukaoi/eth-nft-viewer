{"ast":null,"code":"var _jsxFileName = \"/home/t/Work/My/NFT/eth-nft-viewer/client/src/components/pages/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { ajax } from 'rxjs/ajax';\nimport { map } from 'rxjs/operators';\nimport Templates from \"../templates\";\nimport { getTokenIds, getMetaData } from \"../../shared/web3Client\";\nexport const Pages = () => {\n  console.error(\"#pages\");\n  const [metaDatas, setMetaDatas] = useState([]);\n  const ids = getTokenIds();\n  let arr = []; // useEffect(() => {\n\n  ids.map(async id => {\n    const url = await getMetaData(id); // fetch(url)\n    // .then(res => {\n    // arr.push(res.json());\n    // })\n    // .then(res => {\n    // console.log('complete', res);\n    // setMetaDatas([...res]);\n    // })\n\n    ajax.getJSON(url).pipe(map(res => {\n      arr.push(res);\n    })).subscribe(res => {\n      console.log('res', res);\n    }); // }, [ids])\n  });\n  setMetaDatas([arr]);\n  return /*#__PURE__*/React.createElement(Templates, {\n    metaDatas: metaDatas,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 10\n    }\n  });\n};\nexport default Pages;","map":{"version":3,"sources":["/home/t/Work/My/NFT/eth-nft-viewer/client/src/components/pages/index.js"],"names":["React","useState","useEffect","ajax","map","Templates","getTokenIds","getMetaData","Pages","console","error","metaDatas","setMetaDatas","ids","arr","id","url","getJSON","pipe","res","push","subscribe","log"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,WAAnB;AACA,SAAQC,GAAR,QAAkB,gBAAlB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,yBAAvC;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAM;AACzBC,EAAAA,OAAO,CAACC,KAAR,CAAc,QAAd;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAMY,GAAG,GAAGP,WAAW,EAAvB;AACA,MAAIQ,GAAG,GAAG,EAAV,CAJyB,CAKzB;;AACED,EAAAA,GAAG,CAACT,GAAJ,CAAQ,MAAOW,EAAP,IAAc;AACpB,UAAMC,GAAG,GAAG,MAAMT,WAAW,CAACQ,EAAD,CAA7B,CADoB,CAEpB;AACE;AACE;AACF;AACA;AACE;AACA;AACF;;AAEFZ,IAAAA,IAAI,CAACc,OAAL,CAAaD,GAAb,EAAkBE,IAAlB,CACEd,GAAG,CAACe,GAAG,IAAI;AACTL,MAAAA,GAAG,CAACM,IAAJ,CAASD,GAAT;AACD,KAFE,CADL,EAGME,SAHN,CAIEF,GAAG,IAAI;AACLV,MAAAA,OAAO,CAACa,GAAR,CAAY,KAAZ,EAAmBH,GAAnB;AACD,KANH,EAXoB,CAkBtB;AACD,GAnBC;AAoBMP,EAAAA,YAAY,CAAC,CAACE,GAAD,CAAD,CAAZ;AACR,sBAAO,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAEH,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CA5BM;AA8BP,eAAeH,KAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {ajax} from 'rxjs/ajax';\nimport {map} from 'rxjs/operators';\nimport Templates from \"../templates\";\nimport {getTokenIds, getMetaData} from \"../../shared/web3Client\";\n\nexport const Pages = () => {\n  console.error(\"#pages\");\n  const [metaDatas, setMetaDatas] = useState([]);\n  const ids = getTokenIds();\n  let arr = [];\n  // useEffect(() => {\n    ids.map(async (id) => {\n      const url = await getMetaData(id);\n      // fetch(url)\n        // .then(res => {\n          // arr.push(res.json());\n        // })\n        // .then(res => {\n          // console.log('complete', res);\n          // setMetaDatas([...res]);\n        // })\n      \n      ajax.getJSON(url).pipe(\n        map(res => {\n          arr.push(res);\n        })).subscribe(\n        res => {\n          console.log('res', res);\n        });\n    // }, [ids])\n  })\n          setMetaDatas([arr]);\n  return <Templates metaDatas={metaDatas} />;\n}\n\nexport default Pages;\n"]},"metadata":{},"sourceType":"module"}